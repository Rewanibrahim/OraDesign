<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <title>Ora Design Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="admin.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Harmattan:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>

  <!-- Navbar -->
  <nav class="navbar">
    <img src="../assets/imgs/logo.png" alt="OraDesign Logo" class="logo">
    <h1>ููุญุฉ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช</h1>
    <div class="navbar-buttons">
      <button type="button" id="showProductsBtn"><i class="fa-solid fa-boxes"></i> ุนุฑุถ ูู ุงูููุชุฌุงุช</button>
      <button type="button" id="showOrdersBtn"><i class="fa-solid fa-list-check"></i> ุนุฑุถ ูู ุงูุฃูุฑุฏุฑุงุช</button>
      <button id="toolsBtn" onclick="openToolsPopup()" class="nav-btn">
    ๐ Tools
  </button>
      <button id="exportOrdersBtn">ุชุตุฏูุฑ ุงูุฃูุฑุฏุฑุงุช CSV</button>

    </div>
  </nav>

  <!-- ุฒุฑ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ -->
  <div class="center-btn-container">
    <button type="button" id="openAddProductPopupBtn"><i class="fa-solid fa-cart-plus"></i> ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</button>
  </div>

  <!-- ุฅุถุงูุฉ ุทูุจ ุฌุฏูุฏ -->
  <h2><i class="fa-solid fa-user-plus"></i> ุฅุถุงูุฉ ุทูุจ ุฌุฏูุฏ</h2>
  <form id="orderForm">
    <label>ุงุณู ุงูุนููู</label>
    <input type="text" id="customerName" required>

    <label>ุนููุงู ุงูุนููู</label>
    <input type="text" id="address" required>

    <label>ุฑูู ุงูุชููููู</label>
    <input type="text" id="phone" required>

    <label>ุงููุดุชุฑูุงุช</label>
    <button type="button" id="selectProductsBtn">ุงุฎุชูุงุฑ ุงููุดุชุฑูุงุช</button>
    <div id="productsList"></div>

    <label>ุฅุฌูุงูู ุงูุชูููุฉ</label>
    <input type="number" id="totalCost" step="0.01">

    <label>ุณุนุฑ ุงูุจูุน ุงูููุงุฆู</label>
    <input type="number" id="sellingPrice" step="0.01">

    <label>ุตุงูู ุงูุฑุจุญ</label>
    <input type="number" id="profit" step="0.01">


    <label>ุชุงุฑูุฎ ุงูุชุณููู</label>
    <input type="date" id="deliveryDate">

    <label>ุงูุญุงูุฉ</label>
    <select id="status">
      <option value="ููุฏ ุงูุชูููุฐ">ููุฏ ุงูุชูููุฐ</option>
      <option value="ุชู ุงูุชุณููู">ุชู ุงูุชุณููู</option>
    </select>

    <div class="submit-container">
      <button type="submit">ุฅุถุงูุฉ ุงูุทูุจ</button>
    </div>
  </form>

  <!-- Popup ุฅุถุงูุฉ ููุชุฌ -->
  <div id="addProductPopup" class="popup">
    <div class="popup-content large">
      <button id="cancelAddProductBtn" class="close-btn">ร</button>
      <h2>ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h2>
      <label>ุงุณู ุงูููุชุฌ</label>
      <input type="text" id="newProductName" required>

      <label>ุตูุฑุฉ ุงูููุชุฌ</label>
      <input type="file" id="newProductImage" name="imageUrl">

      <label>ุณุนุฑ ุงูุจูุน</label>
      <input type="number" id="newProductSellingPrice" placeholder="ุฃุฏุฎูู ุงูุณุนุฑ">

      <div id="newComponentsContainer">
        <h4>ุงูููููุงุช (ุงุฎุชูุงุฑู):</h4>
      </div>
      <button id="addComponentBtn" type="button">+ ุฅุถุงูุฉ ูููู</button>

      <p>ุฅุฌูุงูู ุชูููุฉ ุงูููููุงุช: <span id="newProductTotalCostDisplay">0</span> ุฌููู</p>

      <div class="submit-container">
        <button id="saveNewProductBtn" type="button">ุญูุธ ุงูููุชุฌ</button>
      </div>
    </div>
  </div>

  <!-- Popup ุนุฑุถ ุงูููุชุฌุงุช -->
  <div id="productsPopup" class="popup">
    <div class="popup-content">
      <button id="closeProductsPopupBtn" class="close-btn">ร</button>
      <h2>ูุงุฆูุฉ ุงูููุชุฌุงุช</h2>
      <div id="productsTableBody"></div>
    </div>
  </div>

  <!-- Popup ุนุฑุถ ุงูุฃูุฑุฏุฑุงุช -->
  <div id="ordersPopup" class="popup">
    <div class="popup-content">
      <button id="closeOrdersPopupBtn" class="close-btn">ร</button>
      <h2>ูุงุฆูุฉ ุงูุฃูุฑุฏุฑุงุช</h2>
      <label>ุชุตููุฉ ุญุณุจ ุงูุดูุฑ</label>
      <input type="month" id="filterMonth">

      <div id="ordersSummary">
        <span>ุนุฏุฏ ุงูุฃูุฑุฏุฑุงุช: <span id="ordersCount">0</span></span> |
        <span>ุตุงูู ุงูุฑุจุญ ุงูููู: <span id="totalProfitOverall">0.00</span>ุฌููู</span> |
        <span>ุตุงูู ุงูุฑุจุญ ููุฐุง ุงูุดูุฑ: <span id="totalProfitFiltered">0.00</span>ุฌููู</span>
      </div>
      <div id="pagination" class="pagination-container"></div>

      <table id="ordersTable">
        <thead>
          <tr>
            <th>ุฑูู ุงูุฃูุฑุฏุฑ</th>
            <th>ุงุณู ุงูุนููู</th>
            <th>ุนููุงู ุงูุนููู</th>
            <th>ุฑูู ุงููุงุชู</th>
            <th>ุงูููุชุฌุงุช</th>
            <th>ุฅุฌูุงูู ุงูุณุนุฑ</th>
            <th>ุฅุฌูุงูู ุงูุชูููุฉ</th>
            <th>ุงูุฑุจุญ</th>
            <th>ุชุงุฑูุฎ ุงูุชุณููู</th>
            <th>ุงูุญุงูุฉ</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>


  <!-- Popup ุงุฎุชูุงุฑ ุงููุดุชุฑูุงุช -->
  <div id="selectProductsPopup" class="popup">
    <div class="popup-content">
      <button id="closeChooseProductsBtn" class="close-btn">ร</button>
      <h3>ุงุฎุชูุงุฑ ุงููุดุชุฑูุงุช</h3>
      <div id="popupProductsContainer"></div>
      <div class="popup-buttons">
        <button type="button" id="confirmSelectionBtn">ุชู</button>
      </div>
    </div>
  </div>
  <!--edit products-->
  <!-- ===== ุชุนุฏูู ุงูููุชุฌ ===== -->
  <!-- Popup ุชุนุฏูู ููุชุฌ -->
  <div id="editProductPopup" class="popup">
    <div class="popup-content large">
      <button id="cancelEditProductBtn" class="close-btn">ร</button>
      <h2>ุชุนุฏูู ุงูููุชุฌ</h2>
      <label>ุงุณู ุงูููุชุฌ</label>
      <input type="text" id="editProductName" required>

      <label>ุตูุฑุฉ ุงูููุชุฌ (ุงุฎุชูุงุฑู)</label>
      <input type="file" id="editProductImage" name="imageUrl">

      <label>ุณุนุฑ ุงูุจูุน</label>
      <input type="number" id="editProductSellingPrice" placeholder="ุฃุฏุฎูู ุงูุณุนุฑ">

      <div id="editComponentsContainer">
        <h4>ุงูููููุงุช:</h4>
      </div>
      <button id="editAddComponentBtn" type="button">+ ุฅุถุงูุฉ ูููู</button>

      <p>ุฅุฌูุงูู ุชูููุฉ ุงูููููุงุช: <span id="editProductTotalCostDisplay">0</span> ุฌููู</p>

      <div class="submit-container">
        <button id="saveEditProductBtn" type="button">ุญูุธ ุงูุชุนุฏููุงุช</button>
      </div>
    </div>
  </div>
  <!-- ======== Popup ุชุนุฏูู ุงูุฃูุฑุฏุฑ ======== -->
  <!-- ======== Popup ุชุนุฏูู ุงูุฃูุฑุฏุฑ ======== -->
  <div id="editOrderPopup" class="popup" style="display:none;">
    <div class="popup-content">
      <h2>ุชุนุฏูู ุงูุฃูุฑุฏุฑ</h2>
      <form id="editOrderForm">
        <label>ุงุณู ุงูุนููู</label>
        <input type="text" id="editCustomerName" />

        <label>ุงูุนููุงู</label>
        <input type="text" id="editAddress" />

        <label>ุฑูู ุงููุงุชู</label>
        <input type="text" id="editPhone" />

        <label>ุชุงุฑูุฎ ุงูุชุณููู</label>
        <input type="date" id="editDeliveryDate" />

        <label>ุงูุญุงูุฉ</label>
        <select id="editStatus">
          <option value="ููุฏ ุงูุชูููุฐ">ููุฏ ุงูุชูููุฐ</option>
          <option value="ุชู ุงูุชุณููู">ุชู ุงูุชุณููู</option>
        </select>

        <div id="editProductsContainer"></div>

        <!-- ูุฑุชููุฉ -->
        <button type="button" id="addCartonBtn" class="btn-secondary">+ ุฅุถุงูุฉ ูุฑุชููุฉ</button>

        <div id="cartonInputContainer" style="display:none; margin-top:10px;">
          <label>ุณุนุฑ ุงููุฑุชููุฉ</label>
          <input type="number" id="cartonPriceInput" placeholder="ุงูุชุจู ุงูุณุนุฑ" />
          <button type="button" id="saveCartonBtn" class="btn-secondary">ุญูุธ ุงููุฑุชููุฉ</button>
        </div>

        <label>ุฅุฌูุงูู ุงูุฑุจุญ</label>
        <input type="text" id="editOrderProfit" readonly />

        <div class="popup-buttons">
          <button type="submit" class="btn-primary">ุญูุธ ุงูุชุนุฏููุงุช</button>
          <button type="button" id="cancelEditOrder" class="btn-cancel">ุฅูุบุงุก</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Popup ูุฅุถุงูุฉ ุฃุฏูุงุช -->
  <!-- Tools Popup -->
<!-- Popup ูุฅุถุงูุฉ ุฃุฏูุงุช -->
<div id="toolsPopup" class="popup">
  <div class="popup-content large">
    <button class="close-btn" onclick="closeToolsPopup()">ร</button>
    <h2>ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุช</h2>
     
    <p id="toolsTotalProfit">ุฅุฌูุงูู ุชูููุฉ ุงูุฃุฏูุงุช: 0 ุฌููู</p>

    <div class="tool-inputs">
      <input type="text" id="toolName" placeholder="ุงุณู ุงูุฃุฏุงุฉ">
      <input type="number" id="toolCost" placeholder="ุงูุณุนุฑ">
      <input type="number" id="toolQty" placeholder="ุงููููุฉ" value="1">
      <button class="btn-primary" onclick="addTool()">ุฅุถุงูุฉ</button>
    </div>
    <table id="toolsTable">
      <thead>
        <tr>
          <th>ุงูุงุณู</th>
          <th>ุงูุณุนุฑ</th>
          <th>ุงููููุฉ</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    
  </div>
</div>



  <script src="admin.js"></script>
</body>

</html>